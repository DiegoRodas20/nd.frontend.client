(self.webpackChunknd_frontend_client=self.webpackChunknd_frontend_client||[]).push([[790],{3916:(p,i,o)=>{o.d(i,{x:()=>c});class c{}},5533:(p,i,o)=>{o.d(i,{Q:()=>c});class c{}},7136:(p,i,o)=>{o.d(i,{x:()=>c});class c{}},9862:(p,i,o)=>{o.d(i,{Z:()=>c});class c{}},8613:(p,i,o)=>{o.d(i,{A:()=>c});class c{}},7453:(p,i,o)=>{o.d(i,{S:()=>c});class c{}},4652:(p,i,o)=>{o.d(i,{R:()=>c});class c{}},4453:(p,i,o)=>{o.d(i,{b:()=>c});class c{}},5179:(p,i,o)=>{o.d(i,{_:()=>c});class c{}},5437:(p,i,o)=>{o.d(i,{p:()=>c});class c{}},2957:(p,i,o)=>{o.d(i,{g:()=>c});class c{}},2573:(p,i,o)=>{o.d(i,{Ad:()=>C,Ij:()=>y,OS:()=>h,Qp:()=>P,Sd:()=>R,a5:()=>v,ef:()=>u,gL:()=>a});var c=o(8896);const u=`/${c.pl.SHOP}/${c.YS.HOME}`,v=`/${c.pl.SHOP}/${c.YS.PRODUCTS}/${c.Pk.CATALOG}`,C=`/${c.pl.SHOP}/${c.YS.PRODUCTS}/${c.Pk.PRODUCT_DETAIL}`,R=`/${c.pl.SHOP}/${c.YS.PRODUCTS}/${c.Pk.CATEGORIES}`,y=`/${c.pl.SHOP}/${c.YS.PRODUCTS}/${c.Pk.WISH_LIST}`,h=`/${c.pl.SHOP}/${c.YS.ORDERS}/${c.$$.CHECK_OUT}`,a=`/${c.pl.SHOP}/${c.YS.ORDERS}/${c.$$.ORDER_TRACK}`,P=`/${c.pl.SHOP}/${c.YS.ORDERS}/${c.$$.ORDER_CART}`},8896:(p,i,o)=>{o.d(i,{$$:()=>v,Pk:()=>C,YS:()=>u,pl:()=>c});const c={SHOP:"shop",CLIENT:"client"},u={HOME:"home",ORDERS:"orders",PRODUCTS:"products"},v={CHECK_OUT:"check-out",ORDER_TRACK:"order-track",ORDER_CART:"order-cart"},C={CATALOG:"catalog",PRODUCT_DETAIL:"product-detail",CATEGORIES:"categories",WISH_LIST:"wish-list"}},790:(p,i,o)=>{o.r(i);var c=o(4962),u=o(3582),v=o(5245),C=o(7217),R=o(3916),y=o(5861),h=o(3635),a=o(4004);class P{}class g{}let _=(()=>{var t;class r{constructor(e,n){this._cartRepository=e,this._setPurchaseOrder=n}execute(e){var n=this;return(0,y.Z)(function*(){const l=(yield(0,h.firstValueFrom)(n._cartRepository.getProductsCart())).filter(f=>f.id!=e),m=yield n._cartRepository.updateProductsCart(l);return m&&n._setPurchaseOrder.execute(l),m})()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(P),a.\u0275\u0275inject(g))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var I=o(5533),w=o(4463);class O{}let D=(()=>{var t;class r{constructor(e,n,d,l){this._alertService=e,this._cartRepository=n,this._productRepository=d,this._setPurchaseOrder=l}execute(e){var n=this;return(0,y.Z)(function*(){if(n.isProductAlreadyInCart(e))return n._alertService.warning("Ya se encuentra en el carrito"),!1;const d=yield n._productRepository.getProductById(e),l=n.createProductCartFromProduct(d),m=yield(0,h.firstValueFrom)(n._cartRepository.getProductsCart());m.push(l);const f=yield n._cartRepository.updateProductsCart(m);return f&&(n._alertService.success("Se a\xf1adio correctamente"),n._setPurchaseOrder.execute(m)),f})()}isProductAlreadyInCart(e){return!!this._cartRepository.getProductCartByProductId(e)}createProductCartFromProduct(e){return{id:(0,w.v4)(),idProduct:e.id,image:e.images[0],name:e.name,priceCart:e.price,priceProduct:e.price,quantity:1,rating:e.rating}}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(C.ToastrService),a.\u0275\u0275inject(P),a.\u0275\u0275inject(O),a.\u0275\u0275inject(g))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var E=o(7136);let A=(()=>{var t;class r{constructor(e,n){this._cartRepository=e,this._setPurchaseOrder=n}execute(e){var n=this;return(0,y.Z)(function*(){const l=(yield(0,h.firstValueFrom)(n._cartRepository.getProductsCart())).map(f=>{if(f.id===e.idProductCart){const T=e.increment?n.incrementQuantity(f.quantity):n.decrementQuantity(f.quantity);return{...f,quantity:T,priceCart:f.priceProduct*T}}return f}),m=yield n._cartRepository.updateProductsCart(l);return m&&n._setPurchaseOrder.execute(l),m})()}incrementQuantity(e){return e+1}decrementQuantity(e){return e-1}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(P),a.\u0275\u0275inject(g))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var W=o(9862);let F=(()=>{var t;class r{constructor(e){this._cartRepository=e}execute(){return this._cartRepository.getProductsCart()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(P))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),$=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:W.Z,useClass:F},{provide:R.x,useClass:_},{provide:I.Q,useClass:D},{provide:E.x,useClass:A}]}),r})();var x=o(8613);let G=(()=>{var t;class r{constructor(e){this._productRepository=e}execute(e){return this._productRepository.getProductById(e)}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(O))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var Q=o(7453);let U=(()=>{var t;class r{constructor(e){this._productRepository=e}execute(e){const n=this._productRepository.getProducts(),d=this.searchProducts(e,n);return new Promise(l=>{l(d)})}searchProducts(e,n){return n.filter(l=>this.isSearchMatch(l.name,e))}isSearchMatch(e,n){const d=this.normalizedTerm(e),l=this.normalizedTerm(n);return d.includes(l)}normalizedTerm(e){return e.toLowerCase().trim()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(O))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var N=o(4652);let b=(()=>{var t;class r{constructor(e){this._productRepository=e}execute(){return this._productRepository.getProducts()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(O))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),B=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:N.R,useClass:b},{provide:x.A,useClass:G},{provide:Q.S,useClass:U}]}),r})();class j{}let K=(()=>{var t;class r{constructor(e){this._purchaseOrderRepository=e}execute(e){var n=this;return(0,y.Z)(function*(){const d=yield(0,h.firstValueFrom)(n._purchaseOrderRepository.getPurchaseOrder());return d.products=e,d.totalPrice=d.products.reduce((m,f)=>m+f.priceCart,0),yield n._purchaseOrderRepository.setPurchaseOrder(d)})()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(j))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var L=o(4453);let Y=(()=>{var t;class r{constructor(e){this._purchaseOrderRepository=e}execute(){return this._purchaseOrderRepository.getPurchaseOrder()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(j))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),k=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:L.b,useClass:Y},{provide:g,useClass:K}]}),r})(),Z=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({}),r})();var z=o(5179);class S{}let J=(()=>{var t;class r{constructor(e){this._wishlistRepository=e}execute(e){var n=this;return(0,y.Z)(function*(){return yield n._wishlistRepository.deleteProductWishlist(e)})()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(S))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var V=o(5437);let X=(()=>{var t;class r{constructor(e,n,d){this._alertService=e,this._productRepository=n,this._wishlistRepository=d}execute(e){var n=this;return(0,y.Z)(function*(){if(n.isProductAlreadyInWishlist(e))return n._alertService.warning("Ya se encuentra en el wishlist"),!1;const d=yield n._productRepository.getProductById(e),l=n.createProductWishlistFromProduct(d);return(yield n._wishlistRepository.registerProductWishlist(l))&&n._alertService.success("Se a\xf1adio correctamente"),!0})()}isProductAlreadyInWishlist(e){return!!this._wishlistRepository.getProductWishlistByProductId(e)}createProductWishlistFromProduct(e){return{id:(0,w.v4)(),idProduct:e.id,image:e.images[0],name:e.name,price:e.price,status:e.status,rating:e.rating}}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(C.ToastrService),a.\u0275\u0275inject(O),a.\u0275\u0275inject(S))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r})();var q=o(2957);let tt=(()=>{var t;class r{constructor(e){this._wishlistRepository=e}execute(){return this._wishlistRepository.getProductsWishlist()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(S))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),et=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:q.g,useClass:tt},{provide:z._,useClass:J},{provide:V.p,useClass:X}]}),r})(),rt=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[$,B,k,Z,et]}),r})();class st{constructor(){this.products=[{id:1,rating:2,images:["https://www.chikarastore.com/tienda/wp-content/uploads/2022/01/Demon-Slayer-Kimetsu-no-Yaiba-FIGURE-vol.9-A-Kochou-Shinobu.jpeg"],category:"Category 1",description:"Descripcion",status:"Disponible",name:"Name 1",price:300.5,priceAfter:200},{id:2,rating:3,images:["https://www.grutinetpro.com/articulos/lg/lg_212056_0.jpg"],category:"Category 2",description:"Descripcion",name:"Name 2",status:"Disponible",price:300.5,priceAfter:200},{id:3,rating:4,images:["https://m.media-amazon.com/images/I/71gR2xXpbvL.jpg"],category:"Category 3",description:"Descripcion",name:"Name 3",status:"Disponible",price:300.5,priceAfter:200},{id:4,rating:5,images:["https://www.grutinetpro.com/articulos/lg/lg_212056_0.jpg"],category:"Category 4",description:"Descripcion",name:"Name 4",status:"No Disponible",price:300.5,priceAfter:200}]}getProducts(){return this.products}getProductById(r){const s=this.products.find(e=>e.id===r);return new Promise(e=>{e(s)})}}class ot{constructor(){this.localStorageKey="cart_products",this.items=new h.BehaviorSubject([]),this.items$=this.items.asObservable(),this.setProductsCart()}setProductsCart(){const r=localStorage.getItem(this.localStorageKey);r&&this.items.next(JSON.parse(r))}getProductsCart(){return this.items$}getProductCartByProductId(r){return this.items.value.find(e=>e.idProduct===r)}updateProductsCart(r){return this.items.next(r),localStorage.setItem(this.localStorageKey,JSON.stringify(r)),new Promise(s=>s(!0))}}class at{constructor(){this.localStorageKey="purchase_order",this.items=new h.BehaviorSubject({products:[],totalPrice:0}),this.items$=this.items.asObservable(),this.initializePurchaseOrder()}initializePurchaseOrder(){const r=localStorage.getItem(this.localStorageKey);r&&this.items.next(JSON.parse(r))}registerPurchaseOrder(r){throw new Error("Method not implemented.")}setPurchaseOrder(r){return this.items.next(r),localStorage.setItem(this.localStorageKey,JSON.stringify(r)),new Promise(s=>{s(!0)})}getPurchaseOrder(){return this.items$}}class ct{constructor(){this.localStorageKey="wishlist_products",this.products=new h.BehaviorSubject([]),this.products$=this.products.asObservable(),this.setProductsWishlist()}setProductsWishlist(){const r=localStorage.getItem(this.localStorageKey);r&&this.products.next(JSON.parse(r))}getProductsWishlist(){return this.products$}getProductWishlistByProductId(r){return this.products.value.find(e=>e.idProduct===r)}registerProductWishlist(r){const s=this.products.getValue();return s.push(r),this.products.next(s),localStorage.setItem(this.localStorageKey,JSON.stringify(s)),new Promise(e=>{e(r.id)})}deleteProductWishlist(r){const s=this.products.getValue().filter(e=>e.id!=r);return this.products.next(s),localStorage.setItem(this.localStorageKey,JSON.stringify(s)),new Promise(e=>{e(!0)})}}let nt=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:P,useClass:ot},{provide:O,useClass:st},{provide:S,useClass:ct},{provide:j,useClass:at}]}),r})();var H=o(2227);let it=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["presentation-root"]],decls:1,vars:0,template:function(e,n){1&e&&a.\u0275\u0275element(0,"router-outlet")},dependencies:[H.RouterOutlet]}),r})();var dt=o(2573),M=o(8896);const ut=[{path:M.pl.SHOP,loadChildren:()=>o.e(954).then(o.bind(o,2954)).then(t=>t.ShopModule)},{path:M.pl.CLIENT,loadChildren:()=>o.e(997).then(o.bind(o,6997)).then(t=>t.ClientModule)},{path:"**",redirectTo:dt.ef,pathMatch:"full"}];let lt=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[H.RouterModule.forRoot(ut),H.RouterModule]}),r})(),pt=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t,bootstrap:[it]}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[c.BrowserModule,v.BrowserAnimationsModule,lt,u.FormsModule,u.ReactiveFormsModule,rt,nt,C.ToastrModule.forRoot({})]}),r})();c.platformBrowser().bootstrapModule(pt).catch(t=>console.error(t))},5861:(p,i,o)=>{function c(v,C,R,y,h,a,P){try{var g=v[a](P),_=g.value}catch(I){return void R(I)}g.done?C(_):Promise.resolve(_).then(y,h)}function u(v){return function(){var C=this,R=arguments;return new Promise(function(y,h){var a=v.apply(C,R);function P(_){c(a,y,h,P,g,"next",_)}function g(_){c(a,y,h,P,g,"throw",_)}P(void 0)})}}o.d(i,{Z:()=>u})}}]);