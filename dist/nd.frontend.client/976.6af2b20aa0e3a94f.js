(self.webpackChunknd_frontend_client=self.webpackChunknd_frontend_client||[]).push([[976],{3643:(p,i,o)=>{o.d(i,{R:()=>s});class s{}},3916:(p,i,o)=>{o.d(i,{x:()=>s});class s{}},6162:(p,i,o)=>{o.d(i,{m:()=>s});class s{}},5533:(p,i,o)=>{o.d(i,{Q:()=>s});class s{}},9862:(p,i,o)=>{o.d(i,{Z:()=>s});class s{}},8613:(p,i,o)=>{o.d(i,{A:()=>s});class s{}},7453:(p,i,o)=>{o.d(i,{S:()=>s});class s{}},4652:(p,i,o)=>{o.d(i,{R:()=>s});class s{}},5179:(p,i,o)=>{o.d(i,{_:()=>s});class s{}},5437:(p,i,o)=>{o.d(i,{p:()=>s});class s{}},2957:(p,i,o)=>{o.d(i,{g:()=>s});class s{}},2573:(p,i,o)=>{o.d(i,{Ad:()=>f,Ij:()=>h,OS:()=>P,Qp:()=>m,Sd:()=>R,a5:()=>C,ef:()=>d,gL:()=>a});var s=o(8896);const d=`/${s.pl.SHOP}/${s.YS.HOME}`,C=`/${s.pl.SHOP}/${s.YS.PRODUCTS}/${s.Pk.CATALOG}`,f=`/${s.pl.SHOP}/${s.YS.PRODUCTS}/${s.Pk.PRODUCT_DETAIL}`,R=`/${s.pl.SHOP}/${s.YS.PRODUCTS}/${s.Pk.CATEGORIES}`,h=`/${s.pl.SHOP}/${s.YS.PRODUCTS}/${s.Pk.WISH_LIST}`,P=`/${s.pl.SHOP}/${s.YS.ORDERS}/${s.$$.CHECK_OUT}`,a=`/${s.pl.SHOP}/${s.YS.ORDERS}/${s.$$.ORDER_TRACK}`,m=`/${s.pl.SHOP}/${s.YS.ORDERS}/${s.$$.ORDER_CART}`},8896:(p,i,o)=>{o.d(i,{$$:()=>C,Pk:()=>f,YS:()=>d,pl:()=>s});const s={SHOP:"shop",CLIENT:"client"},d={HOME:"home",ORDERS:"orders",PRODUCTS:"products"},C={CHECK_OUT:"check-out",ORDER_TRACK:"order-track",ORDER_CART:"order-cart"},f={CATALOG:"catalog",PRODUCT_DETAIL:"product-detail",CATEGORIES:"categories",WISH_LIST:"wish-list"}},9976:(p,i,o)=>{o.r(i);var s=o(4962),d=o(3582),C=o(5245),f=o(7217),R=o(3643),h=o(5861),P=o(3635),a=o(4004);class m{}let _=(()=>{var t;class r{constructor(e){this._cartRepository=e}execute(e){var c=this;return(0,h.Z)(function*(){const l=(yield(0,P.firstValueFrom)(c._cartRepository.getProductsCart())).map(y=>y.id==e?{...y,quantity:y.quantity-1}:y);return yield c._cartRepository.updateProductsCart(l)})()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(m))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var v=o(3916);let O=(()=>{var t;class r{constructor(e){this._cartRepository=e}execute(e){var c=this;return(0,h.Z)(function*(){const l=(yield(0,P.firstValueFrom)(c._cartRepository.getProductsCart())).filter(y=>y.id!=e);return yield c._cartRepository.updateProductsCart(l)})()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(m))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var j=o(6162);let w=(()=>{var t;class r{constructor(e){this._cartRepository=e}execute(e){var c=this;return(0,h.Z)(function*(){const l=(yield(0,P.firstValueFrom)(c._cartRepository.getProductsCart())).map(y=>y.id==e?{...y,quantity:y.quantity+1}:y);return yield c._cartRepository.updateProductsCart(l)})()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(m))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var E=o(5533),H=o(4463);class S{}let A=(()=>{var t;class r{constructor(e,c,u){this._alertService=e,this._cartRepository=c,this._productRepository=u}execute(e){var c=this;return(0,h.Z)(function*(){if(c.isProductAlreadyInCart(e))return c._alertService.warning("Ya se encuentra en el carrito"),!1;const u=yield c._productRepository.getProductById(e),l=c.createProductCartFromProduct(u),g=yield(0,P.firstValueFrom)(c._cartRepository.getProductsCart());g.push(l);const y=yield c._cartRepository.updateProductsCart(g);return y&&c._alertService.success("Se a\xf1adio correctamente"),y})()}isProductAlreadyInCart(e){return!!this._cartRepository.getProductCartByProductId(e)}createProductCartFromProduct(e){return{id:(0,H.v4)(),idProduct:e.id,image:e.images[0],name:e.name,price:e.price,quantity:1,rating:e.rating}}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(f.ToastrService),a.\u0275\u0275inject(m),a.\u0275\u0275inject(S))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var M=o(9862);let W=(()=>{var t;class r{constructor(e){this._cartRepository=e}execute(){return this._cartRepository.getProductsCart()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(m))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var $=o(8613);let F=(()=>{var t;class r{constructor(e){this._productRepository=e}execute(e){return this._productRepository.getProductById(e)}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(S))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var Q=o(7453);let G=(()=>{var t;class r{constructor(e){this._productRepository=e}execute(e){const c=this._productRepository.getProducts(),u=this.searchProducts(e,c);return new Promise(l=>{l(u)})}searchProducts(e,c){return c.filter(l=>this.isSearchMatch(l.name,e))}isSearchMatch(e,c){const u=this.normalizedTerm(e),l=this.normalizedTerm(c);return u.includes(l)}normalizedTerm(e){return e.toLowerCase().trim()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(S))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var x=o(4652);let B=(()=>{var t;class r{constructor(e){this._productRepository=e}execute(){return this._productRepository.getProducts()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(S))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var U=o(5179);class I{}let b=(()=>{var t;class r{constructor(e){this._wishlistRepository=e}execute(e){var c=this;return(0,h.Z)(function*(){return yield c._wishlistRepository.deleteProductWishlist(e)})()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(I))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var N=o(5437);let L=(()=>{var t;class r{constructor(e,c,u){this._alertService=e,this._productRepository=c,this._wishlistRepository=u}execute(e){var c=this;return(0,h.Z)(function*(){if(c.isProductAlreadyInWishlist(e))return c._alertService.warning("Ya se encuentra en el wishlist"),!1;const u=yield c._productRepository.getProductById(e),l=c.createProductWishlistFromProduct(u);return(yield c._wishlistRepository.registerProductWishlist(l))&&c._alertService.success("Se a\xf1adio correctamente"),!0})()}isProductAlreadyInWishlist(e){return!!this._wishlistRepository.getProductWishlistByProductId(e)}createProductWishlistFromProduct(e){return{id:(0,H.v4)(),idProduct:e.id,image:e.images[0],name:e.name,price:e.price,quantity:1,status:e.status}}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(f.ToastrService),a.\u0275\u0275inject(S),a.\u0275\u0275inject(I))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),r})();var K=o(2957);let Y=(()=>{var t;class r{constructor(e){this._wishlistRepository=e}execute(){return this._wishlistRepository.getProductsWishlist()}}return(t=r).\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(I))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),k=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:x.R,useClass:B},{provide:$.A,useClass:F},{provide:Q.S,useClass:G},{provide:M.Z,useClass:W},{provide:v.x,useClass:O},{provide:E.Q,useClass:A},{provide:j.m,useClass:w},{provide:R.R,useClass:_},{provide:N.p,useClass:L},{provide:U._,useClass:b},{provide:K.g,useClass:Y}]}),r})();class Z{constructor(){this.products=[{id:1,rating:4,images:["https://www.chikarastore.com/tienda/wp-content/uploads/2022/01/Demon-Slayer-Kimetsu-no-Yaiba-FIGURE-vol.9-A-Kochou-Shinobu.jpeg"],category:"Category 1",description:"Descripcion",status:"Disponible",name:"Name 1",price:300.5,priceAfter:200},{id:2,rating:4,images:["https://www.grutinetpro.com/articulos/lg/lg_212056_0.jpg"],category:"Category 2",description:"Descripcion",name:"Name 2",status:"Disponible",price:300.5,priceAfter:200},{id:3,rating:4,images:["https://m.media-amazon.com/images/I/71gR2xXpbvL.jpg"],category:"Category 3",description:"Descripcion",name:"Name 3",status:"Disponible",price:300.5,priceAfter:200},{id:4,rating:4,images:["https://www.grutinetpro.com/articulos/lg/lg_212056_0.jpg"],category:"Category 4",description:"Descripcion",name:"Name 4",status:"No Disponible",price:300.5,priceAfter:200}]}getProducts(){return this.products}getProductById(r){const n=this.products.find(e=>e.id===r);return new Promise(e=>{e(n)})}}class z{constructor(){this.localStorageKey="cart_products",this.items=new P.BehaviorSubject([]),this.items$=this.items.asObservable(),this.setProductsCart()}setProductsCart(){const r=localStorage.getItem(this.localStorageKey);r&&this.items.next(JSON.parse(r))}getProductsCart(){return this.items$}getProductCartByProductId(r){return this.items.value.find(e=>e.idProduct===r)}updateProductsCart(r){return this.items.next(r),localStorage.setItem(this.localStorageKey,JSON.stringify(r)),new Promise(n=>n(!0))}}class V{constructor(){this.localStorageKey="wishlist_products",this.products=new P.BehaviorSubject([]),this.products$=this.products.asObservable(),this.setProductsWishlist()}setProductsWishlist(){const r=localStorage.getItem(this.localStorageKey);r&&this.products.next(JSON.parse(r))}getProductsWishlist(){return this.products$}getProductWishlistByProductId(r){return this.products.value.find(e=>e.idProduct===r)}registerProductWishlist(r){const n=this.products.getValue();return n.push(r),this.products.next(n),localStorage.setItem(this.localStorageKey,JSON.stringify(n)),new Promise(e=>{e(r.id)})}deleteProductWishlist(r){const n=this.products.getValue().filter(e=>e.id!=r);return this.products.next(n),localStorage.setItem(this.localStorageKey,JSON.stringify(n)),new Promise(e=>{e(!0)})}}let J=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:m,useClass:z},{provide:S,useClass:Z},{provide:I,useClass:V}]}),r})();var D=o(2227);let X=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.\u0275\u0275defineComponent({type:t,selectors:[["presentation-root"]],decls:1,vars:0,template:function(e,c){1&e&&a.\u0275\u0275element(0,"router-outlet")},dependencies:[D.RouterOutlet],encapsulation:2}),r})();var q=o(2573),T=o(8896);const tt=[{path:T.pl.SHOP,loadChildren:()=>o.e(917).then(o.bind(o,1917)).then(t=>t.ShopModule)},{path:T.pl.CLIENT,loadChildren:()=>o.e(997).then(o.bind(o,6997)).then(t=>t.ClientModule)},{path:"**",redirectTo:q.ef,pathMatch:"full"}];let et=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[D.RouterModule.forRoot(tt),D.RouterModule]}),r})(),rt=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.\u0275\u0275defineNgModule({type:t,bootstrap:[X]}),t.\u0275inj=a.\u0275\u0275defineInjector({imports:[s.BrowserModule,C.BrowserAnimationsModule,et,d.FormsModule,d.ReactiveFormsModule,k,J,f.ToastrModule.forRoot({})]}),r})();s.platformBrowser().bootstrapModule(rt).catch(t=>console.error(t))},5861:(p,i,o)=>{function s(C,f,R,h,P,a,m){try{var _=C[a](m),v=_.value}catch(O){return void R(O)}_.done?f(v):Promise.resolve(v).then(h,P)}function d(C){return function(){var f=this,R=arguments;return new Promise(function(h,P){var a=C.apply(f,R);function m(v){s(a,h,P,m,_,"next",v)}function _(v){s(a,h,P,m,_,"throw",v)}m(void 0)})}}o.d(i,{Z:()=>d})}}]);